@(results: Map[CourseClassType, List[PlacedCompetitor]])(implicit request: MessagesRequestHeader)

@main("Results Summary") {
      <div class="col-8">
        <h1>Results summary by class</h1>

        @helper.form(action = routes.HomeController.index) {
          <legend>Course Results</legend>

          @results.toSeq.map { case (courseClass, comps) =>
            <div class="alert alert-danger" role="alert">
              <h2>@courseClass</h2>
            </div>
            <table id="control_@courseClass" class="table table-striped table-sm">
              <thead>
                <tr>
                  <th scope="col" class="left">Pos</th>
                  <th scope="col" class="left">Name</th>
                  <th scope="col" class="left">Club</th>
                  <th scope="col" class="centre">Age Class</th>
                  <th scope="col" class="centre">Controls</th>
                  <th scope="col" class="centre">Time</th>
                  <th scope="col" class="right">Score</th>
                  <th scope="col" class="centre">Details</th>
                </tr>
              </thead>
              <tbody>
                @comps.map { comp =>
                    @defining(routes.ResultsController.resultsDetailedDisplay(courseClass.toString, comp.place)) { detailsUrl =>
                      <tr>
                        <td class="left">@comp.place</td>
                        <td class="left">@comp.competitor.name</td>
                        <td class="left">@comp.competitor.club</td>
                        <td class="centre">@comp.competitor.ageCat</td>
                        <td class="centre">@comp.competitor.punchedControls.numberOfControlsPunched</td>
                        <td class="centre">@comp.competitor.raceTime.timeTaken</td>
                        <td class="right">@comp.competitor.scores.getFinalScore</td>
                        <td class="centre"><a href="@detailsUrl" class="btn btn-outline-secondary btn-sm" ROLE="button">@comp.competitor.name</a></td>
                      </tr>
                    }
                }

                </tbody>
              </table>
            <br>
          }

          @helper.CSRF.formField
          <div>
            <input class = "btn btn-primary" type="submit" id="toindex" value="Return to Homepage"/>
          </div>
        }
      <br>
      </div>

      <div class="col-4">
          <!-- Empty pace holder column -->
      </div>
}
